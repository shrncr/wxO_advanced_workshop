spec_version: v1
kind: knowledge_base 
#The line below is naming our knowledge base, if you are on the same tenant as someone else doing this lab, you may have to change this name so there is a new kb instead of updating the previous kb.
name: Esearch 
description: >
   This knowledge base contains the history of Ferrari. Use this knowledge based for queries related to ferrari.
prioritize_built_in_index: false #this line must be set to false when using an external vector index.
conversational_search_tool:
   index_config:
      - elastic_search:
         url: EnterURLHERE #The URL here should not contain the port number.
         index: wx-f1
         port: "30719"
         #The lines of code hashed out below are for advanced elasticsearch search configurations, see more at https://github.com/watson-developer-cloud/assistant-toolkit/blob/master/integrations/extensions/docs/elasticsearch-install-and-setup/how_to_configure_advanced_elasticsearch_settings.md

         #query_body: {"size":10,"query":{"bool":{"should":[{"text_expansion":{"ml.tokens":{"model_id":".elser_model_2_linux-x86_64","model_text":"$QUERY"}}}],"filter":"$FILTER"}}}
         #result_filter: [{"match":{"title":"A_keyword_in_title"}},{"match":{"text":"A_keyword_in_text"}},{"match":{"id":"A_specific_ID"}}]
         field_mapping:
            title: title
            body: text
            
            